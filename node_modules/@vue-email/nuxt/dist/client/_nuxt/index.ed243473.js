import{l as S,q as F,S as O,ak as T,au as A,r as m,am as C,Z as w,av as P,m as j,al as x,aw as I}from"./entry.e2d96b32.js";function V(t,e){let o,n,s;const i=m(!0),u=()=>{i.value=!0,s()};w(t,u,{flush:"sync"});const a=typeof e=="function"?e:e.get,c=typeof e=="function"?void 0:e.set,r=I((l,f)=>(n=l,s=f,{get(){return i.value&&(o=a(),i.value=!1),n(),o},set(y){c==null||c(y)}}));return Object.isExtensible(r)&&(r.trigger=u),r}function d(t){return T()?(A(t),!0):!1}function q(t){let e=0,o,n;const s=()=>{e-=1,n&&e<=0&&(n.stop(),o=void 0,n=void 0)};return(...i)=>(e+=1,o||(n=P(!0),o=n.run(()=>t(...i))),d(s),o)}function p(t){return typeof t=="function"?t():S(t)}const v=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const W=Object.prototype.toString,E=t=>W.call(t)==="[object Object]",L=()=>+Date.now(),g=()=>{},Z=D();function D(){var t,e;return v&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function h(t,e){function o(...n){return new Promise((s,i)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(s).catch(i)})}return o}const b=t=>t();function k(t,e={}){let o,n,s=g;const i=a=>{clearTimeout(a),s(),s=g};return a=>{const c=p(t),r=p(e.maxWait);return o&&i(o),c<=0||r!==void 0&&r<=0?(n&&(i(n),n=null),Promise.resolve(a())):new Promise((l,f)=>{s=e.rejectOnCancel?f:l,r&&!n&&(n=setTimeout(()=>{o&&i(o),n=null,l(a())},r)),o=setTimeout(()=>{n&&i(n),n=null,l(a())},c)})}}function M(t=b){const e=m(!0);function o(){e.value=!1}function n(){e.value=!0}const s=(...i)=>{e.value&&t(...i)};return{isActive:C(e),pause:o,resume:n,eventFilter:s}}function R(t){return t||x()}function z(t,e=200,o={}){return h(k(e,o),t)}function _(t,e,o={}){const{eventFilter:n=b,...s}=o;return w(t,h(n,e),s)}function B(t,e,o={}){const{eventFilter:n,...s}=o,{eventFilter:i,pause:u,resume:a,isActive:c}=M(n);return{stop:_(t,e,{...s,eventFilter:i}),pause:u,resume:a,isActive:c}}function H(t,e=!0,o){const n=R(o);n?F(t,n):e?t():O(t)}function J(t,e=1e3,o={}){const{immediate:n=!0,immediateCallback:s=!1}=o;let i=null;const u=m(!1);function a(){i&&(clearInterval(i),i=null)}function c(){u.value=!1,a()}function r(){const l=p(e);l<=0||(u.value=!0,s&&t(),a(),i=setInterval(t,l))}if(n&&v&&r(),j(e)||typeof e=="function"){const l=w(e,()=>{u.value&&v&&r()});d(l)}return d(c),{isActive:u,pause:c,resume:r}}export{H as a,Z as b,d as c,E as d,L as e,V as f,z as g,q as h,v as i,g as n,p as t,J as u,B as w};
