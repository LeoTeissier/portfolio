import{f as K,r as k,i as C,y as ve,A as Q,R as O,F as X,q as x,z as de,B as _,C as he,D as ne,E as le,U as we,s as G,o as N,j as re,w as H,b as U,x as A,H as ue,a as se,T as ie,K as q,c as W,k as R,V as $e}from"./entry.e2d96b32.js";import{a as ke,u as Ce}from"./selectMenu.42955fb6.js";import{u as Ee}from"./usePopper.a057c18f.js";import{_ as Be}from"./_plugin-vue_export-helper.c27b6911.js";import{o as n,u as D,H as ee,t as j,N as pe,a as I}from"./dom.ba894599.js";import{m as oe,E as te,w as Fe,h as Te,P as M,N as F,T as Y}from"./focus-management.2ea20c5d.js";import{c as Oe,l as z,p as Ie}from"./open-closed.6fdd6bde.js";import{b as Me}from"./use-resolve-button-type.99582f14.js";import{y as De}from"./use-outside-click.6c811f59.js";import{V as Ne,p as He,E as Ae,n as ce,d as T}from"./use-root-containers.68131292.js";import{f as Z,a as J}from"./hidden.9be31576.js";import"./index.ed35f5eb.js";import"./index.ed243473.js";const je={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},arrow:ke};var Le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Le||{});let fe=Symbol("PopoverContext");function ae(e){let b=_(fe,null);if(b===null){let S=new Error(`<${e} /> is missing a parent <${ge.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(S,ae),S}return b}let Ve=Symbol("PopoverGroupContext");function me(){return _(Ve,null)}let be=Symbol("PopoverPanelContext");function Re(){return _(be,null)}let ge=K({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:b,attrs:S,expose:E}){var t;let o=k(null);E({el:o,$el:o});let f=k(1),r=k(null),P=k(null),v=k(null),c=k(null),h=C(()=>oe(o)),B=C(()=>{var a,u;if(!n(r)||!n(c))return!1;for(let V of document.querySelectorAll("body > *"))if(Number(V==null?void 0:V.contains(n(r)))^Number(V==null?void 0:V.contains(n(c))))return!0;let i=te(),$=i.indexOf(n(r)),L=($+i.length-1)%i.length,ye=($+1)%i.length,Pe=i[L],Se=i[ye];return!((a=n(c))!=null&&a.contains(Pe))&&!((u=n(c))!=null&&u.contains(Se))}),d={popoverState:f,buttonId:k(null),panelId:k(null),panel:c,button:r,isPortalled:B,beforePanelSentinel:P,afterPanelSentinel:v,togglePopover(){f.value=D(f.value,{0:1,1:0})},closePopover(){f.value!==1&&(f.value=1)},close(a){d.closePopover();let u=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?n(a):n(d.button):n(d.button))();u==null||u.focus()}};ve(fe,d),Oe(C(()=>D(f.value,{0:z.Open,1:z.Closed})));let w={buttonId:d.buttonId,panelId:d.panelId,close(){d.closePopover()}},y=me(),p=y==null?void 0:y.registerPopover,[g,s]=Ne(),l=He({mainTreeNodeRef:y==null?void 0:y.mainTreeNodeRef,portals:g,defaultContainers:[r,c]});function m(){var a,u,i,$;return($=y==null?void 0:y.isFocusWithinPopoverGroup())!=null?$:((a=h.value)==null?void 0:a.activeElement)&&(((u=n(r))==null?void 0:u.contains(h.value.activeElement))||((i=n(c))==null?void 0:i.contains(h.value.activeElement)))}return Q(()=>p==null?void 0:p(w)),Ae((t=h.value)==null?void 0:t.defaultView,"focus",a=>{var u,i;a.target!==window&&a.target instanceof HTMLElement&&f.value===0&&(m()||r&&c&&(l.contains(a.target)||(u=n(d.beforePanelSentinel))!=null&&u.contains(a.target)||(i=n(d.afterPanelSentinel))!=null&&i.contains(a.target)||d.closePopover()))},!0),De(l.resolveContainers,(a,u)=>{var i;d.closePopover(),Fe(u,Te.Loose)||(a.preventDefault(),(i=n(r))==null||i.focus())},C(()=>f.value===0)),()=>{let a={open:f.value===0,close:d.close};return O(X,[O(s,{},()=>ee({theirProps:{...e,...S},ourProps:{ref:o},slot:a,slots:b,attrs:S,name:"Popover"})),O(l.MainTreeNode)])}}}),ze=K({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${j()}`}},inheritAttrs:!1,setup(e,{attrs:b,slots:S,expose:E}){let t=ae("PopoverButton"),o=C(()=>oe(t.button));E({el:t.button,$el:t.button}),x(()=>{t.buttonId.value=e.id}),de(()=>{t.buttonId.value=null});let f=me(),r=f==null?void 0:f.closeOthers,P=Re(),v=C(()=>P===null?!1:P.value===t.panelId.value),c=k(null),h=`headlessui-focus-sentinel-${j()}`;v.value||Q(()=>{t.button.value=c.value});let B=Me(C(()=>({as:e.as,type:b.type})),c);function d(l){var m,a,u,i,$;if(v.value){if(t.popoverState.value===1)return;switch(l.key){case I.Space:case I.Enter:l.preventDefault(),(a=(m=l.target).click)==null||a.call(m),t.closePopover(),(u=n(t.button))==null||u.focus();break}}else switch(l.key){case I.Space:case I.Enter:l.preventDefault(),l.stopPropagation(),t.popoverState.value===1&&(r==null||r(t.buttonId.value)),t.togglePopover();break;case I.Escape:if(t.popoverState.value!==0)return r==null?void 0:r(t.buttonId.value);if(!n(t.button)||(i=o.value)!=null&&i.activeElement&&!(($=n(t.button))!=null&&$.contains(o.value.activeElement)))return;l.preventDefault(),l.stopPropagation(),t.closePopover();break}}function w(l){v.value||l.key===I.Space&&l.preventDefault()}function y(l){var m,a;e.disabled||(v.value?(t.closePopover(),(m=n(t.button))==null||m.focus()):(l.preventDefault(),l.stopPropagation(),t.popoverState.value===1&&(r==null||r(t.buttonId.value)),t.togglePopover(),(a=n(t.button))==null||a.focus()))}function p(l){l.preventDefault(),l.stopPropagation()}let g=ce();function s(){let l=n(t.panel);if(!l)return;function m(){D(g.value,{[T.Forwards]:()=>M(l,F.First),[T.Backwards]:()=>M(l,F.Last)})===Y.Error&&M(te().filter(a=>a.dataset.headlessuiFocusGuard!=="true"),D(g.value,{[T.Forwards]:F.Next,[T.Backwards]:F.Previous}),{relativeTo:n(t.button)})}m()}return()=>{let l=t.popoverState.value===0,m={open:l},{id:a,...u}=e,i=v.value?{ref:c,type:B.value,onKeydown:d,onClick:y}:{ref:c,id:a,type:B.value,"aria-expanded":t.popoverState.value===0,"aria-controls":n(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:d,onKeyup:w,onClick:y,onMousedown:p};return O(X,[ee({ourProps:i,theirProps:{...b,...u},slot:m,attrs:b,slots:S,name:"PopoverButton"}),l&&!v.value&&t.isPortalled.value&&O(Z,{id:h,features:J.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:s})])}}}),Ke=K({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${j()}`}},inheritAttrs:!1,setup(e,{attrs:b,slots:S,expose:E}){let{focus:t}=e,o=ae("PopoverPanel"),f=C(()=>oe(o.panel)),r=`headlessui-focus-sentinel-before-${j()}`,P=`headlessui-focus-sentinel-after-${j()}`;E({el:o.panel,$el:o.panel}),x(()=>{o.panelId.value=e.id}),de(()=>{o.panelId.value=null}),ve(be,o.panelId),Q(()=>{var p,g;if(!t||o.popoverState.value!==0||!o.panel)return;let s=(p=f.value)==null?void 0:p.activeElement;(g=n(o.panel))!=null&&g.contains(s)||M(n(o.panel),F.First)});let v=Ie(),c=C(()=>v!==null?(v.value&z.Open)===z.Open:o.popoverState.value===0);function h(p){var g,s;switch(p.key){case I.Escape:if(o.popoverState.value!==0||!n(o.panel)||f.value&&!((g=n(o.panel))!=null&&g.contains(f.value.activeElement)))return;p.preventDefault(),p.stopPropagation(),o.closePopover(),(s=n(o.button))==null||s.focus();break}}function B(p){var g,s,l,m,a;let u=p.relatedTarget;u&&n(o.panel)&&((g=n(o.panel))!=null&&g.contains(u)||(o.closePopover(),((l=(s=n(o.beforePanelSentinel))==null?void 0:s.contains)!=null&&l.call(s,u)||(a=(m=n(o.afterPanelSentinel))==null?void 0:m.contains)!=null&&a.call(m,u))&&u.focus({preventScroll:!0})))}let d=ce();function w(){let p=n(o.panel);if(!p)return;function g(){D(d.value,{[T.Forwards]:()=>{var s;M(p,F.First)===Y.Error&&((s=n(o.afterPanelSentinel))==null||s.focus())},[T.Backwards]:()=>{var s;(s=n(o.button))==null||s.focus({preventScroll:!0})}})}g()}function y(){let p=n(o.panel);if(!p)return;function g(){D(d.value,{[T.Forwards]:()=>{let s=n(o.button),l=n(o.panel);if(!s)return;let m=te(),a=m.indexOf(s),u=m.slice(0,a+1),i=[...m.slice(a+1),...u];for(let $ of i.slice())if($.dataset.headlessuiFocusGuard==="true"||l!=null&&l.contains($)){let L=i.indexOf($);L!==-1&&i.splice(L,1)}M(i,F.First,{sorted:!1})},[T.Backwards]:()=>{var s;M(p,F.Previous)===Y.Error&&((s=n(o.button))==null||s.focus())}})}g()}return()=>{let p={open:o.popoverState.value===0,close:o.close},{id:g,focus:s,...l}=e,m={ref:o.panel,id:g,onKeydown:h,onFocusout:t&&o.popoverState.value===0?B:void 0,tabIndex:-1};return ee({ourProps:m,theirProps:{...b,...l},attrs:b,slot:p,slots:{...S,default:(...a)=>{var u;return[O(X,[c.value&&o.isPortalled.value&&O(Z,{id:r,ref:o.beforePanelSentinel,features:J.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:w}),(u=S.default)==null?void 0:u.call(S,...a),c.value&&o.isPortalled.value&&O(Z,{id:P,ref:o.afterPanelSentinel,features:J.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:y})])]}},features:pe.RenderStrategy|pe.Static,visible:c.value,name:"PopoverPanel"})}}});const Ge=he(ne.ui.strategy,ne.ui.popover,je),Ue=K({components:{HPopover:ge,HPopoverButton:ze,HPopoverPanel:Ke},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e){const{ui:b,attrs:S}=Ce("popover",le(e,"ui"),Ge,le(e,"class")),E=C(()=>we(e.mode==="hover"?{offsetDistance:0}:{},e.popper,b.value.popper)),[t,o]=Ee(E.value),f=k(null),r=k(null);let P=null,v=null;x(()=>{var y;const d=(y=f.value)==null?void 0:y.$.provides;if(!d)return;const w=Object.getOwnPropertySymbols(d);r.value=w.length&&d[w[0]]});const c=C(()=>{var y,p;const w=`${((y=e.popper)==null?void 0:y.offsetDistance)||((p=b.value.popper)==null?void 0:p.offsetDistance)||8}px`;return e.mode==="hover"?{paddingTop:w,paddingBottom:w,paddingLeft:w,paddingRight:w}:{}});function h(){e.mode!=="hover"||!r.value||(v&&(clearTimeout(v),v=null),r.value.popoverState!==0&&(P=P||setTimeout(()=>{r.value.togglePopover&&r.value.togglePopover(),P=null},e.openDelay)))}function B(){e.mode!=="hover"||!r.value||(P&&(clearTimeout(P),P=null),r.value.popoverState!==1&&(v=v||setTimeout(()=>{r.value.closePopover&&r.value.closePopover(),v=null},e.closeDelay)))}return{ui:b,attrs:S,popover:f,popper:E,trigger:t,container:o,containerStyle:c,onMouseOver:h,onMouseLeave:B}}}),qe=["disabled"];function We(e,b,S,E,t,o){const f=G("HPopoverButton"),r=G("HPopoverPanel"),P=G("HPopover");return N(),re(P,q({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:H(({open:v,close:c})=>[U(f,{ref:"trigger",as:"div",disabled:e.disabled,class:A(e.ui.trigger),role:"button",onMouseover:e.onMouseOver},{default:H(()=>[ue(e.$slots,"default",{open:e.open!==void 0?e.open:v,close:c},()=>[se("button",{disabled:e.disabled}," Open ",8,qe)])]),_:2},1032,["disabled","class","onMouseover"]),e.overlay?(N(),re(ie,q({key:0,appear:""},e.ui.overlay.transition),{default:H(()=>[(e.open!==void 0?e.open:v)?(N(),W("div",{key:0,class:A([e.ui.overlay.base,e.ui.overlay.background]),onClick:b[0]||(b[0]=h=>e.$emit("update:open"))},null,2)):R("",!0)]),_:2},1040)):R("",!0),(e.open!==void 0?e.open:v)?(N(),W("div",{key:1,ref:"container",class:A([e.ui.container,e.ui.width]),style:$e(e.containerStyle),onMouseover:b[1]||(b[1]=(...h)=>e.onMouseOver&&e.onMouseOver(...h))},[U(ie,q({appear:""},e.ui.transition),{default:H(()=>[se("div",null,[e.popper.arrow?(N(),W("div",{key:0,"data-popper-arrow":"",class:A(Object.values(e.ui.arrow))},null,2)):R("",!0),U(r,{class:A([e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow]),static:""},{default:H(()=>[ue(e.$slots,"panel",{open:e.open!==void 0?e.open:v,close:c})]),_:2},1032,["class"])])]),_:2},1040)],38)):R("",!0)]),_:3},16,["class","onMouseleave"])}const ro=Be(Ue,[["render",We]]);export{ro as default};
